<% if @card_transaction %>
  <% if @category.active? %>
    <%= turbo_stream.replace(:center_container, Views::CardTransactions::New.new(current_user:, card_transaction: @card_transaction)) %>
    <%= turbo_stream.update(:notification, partial: "shared/flash", locals: { notice: notification_model(:updateda, Category) }) %>
    <%= turbo_stream.update(:tabs, partial: "shared/tabs") %>
  <% else %>
    <%= turbo_stream.replace(:center_container, template: "categories/index") %>
  <% end %>
<% else %>
  <%= turbo_stream.replace(:center_container, template: "categories/edit", locals: { category: @category }) %>
  <%= turbo_stream.update(:notification, partial: "shared/flash", locals: { alert: notification_model(:not_updateda, Category) }) %>
<% end %>
