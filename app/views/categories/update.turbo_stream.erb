<% if @card_transaction %>
  <% if @category.active? %>
    <%= turbo_stream.replace(:center_container, template: "card_transactions/new", locals: { card_transaction: @card_transaction }) %>
    <%= turbo_stream.update(:notification, partial: "shared/flash", locals: { notice: "Category has been updated." }) %>
    <%= turbo_stream.update(:tabs, partial: "shared/tabs") %>
  <% else %>
    <%= turbo_stream.replace(:center_container, template: "categories/index") %>
  <% end %>
<% else %>
  <%= turbo_stream.replace(:center_container, template: "categories/edit", locals: { category: @category }) %>
  <%= turbo_stream.update(:notification, partial: "shared/flash", locals: { alert: "Something is wrong." }) %>
<% end %>
